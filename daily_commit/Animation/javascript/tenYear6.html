<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>动画基础6</title>
    <style type="text/css">
    .box {
        width: 100px;
        height: 100px;
        background: #0c8;
        line-height: 100px;
        text-align: center;
        margin: 100px auto;
    }
    </style>
</head>

<body>
    <div class="box">
        click
    </div>
    <script type="text/javascript">
    var dom = document.querySelector(".box");
    var deg = 0;
    dom.addEventListener("click", function(e) {
        var self = this,
            p = 0,
            startTime = Date.now(),
            distance = 100,
            T = 2000;
        requestAnimationFrame(function step() {
            p = Math.min(1.0, (Date.now() - startTime) / T);
            var ty = distance * (Math.sin(2 * Math.PI * p));
            var tx = distance * 2 * p;
            self.style.transform = "translate(" + tx + "px," + ty + "px)";
            if (p < 1.0) {
                requestAnimationFrame(step);
            }


        });


    }, false);
    </script>
    <script type="text/javascript">
    	var app={
    		self:this,
    		func:function(){
    			return this
    			;

    		}

    	}

    </script>
</body>

</html>
